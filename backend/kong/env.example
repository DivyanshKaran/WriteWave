# Environment Variables for Kong API Gateway
# Copy this file to .env and update the values

# Kong Database Configuration
KONG_DB_PASSWORD=your-secure-database-password

# Redis Configuration
REDIS_PASSWORD=your-secure-redis-password
REDIS_URL=redis://redis:6379

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# Service Database URLs
USER_SERVICE_DB_URL=postgresql://user:password@user-db:5432/userdb
CONTENT_SERVICE_DB_URL=postgresql://content:password@content-db:5432/contentdb
PROGRESS_SERVICE_DB_URL=postgresql://progress:password@progress-db:5432/progressdb
COMMUNITY_SERVICE_DB_URL=postgresql://community:password@community-db:5432/communitydb
NOTIFICATION_SERVICE_DB_URL=postgresql://notification:password@notification-db:5432/notificationdb
ANALYTICS_SERVICE_DB_URL=postgresql://analytics:password@analytics-db:5432/analyticsdb

# Security Configuration
ALLOWED_IPS=127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12

# SSL Configuration (Production)
SSL_CERT_PATH=/etc/ssl/certs/production.crt
SSL_KEY_PATH=/etc/ssl/private/production.key

# Monitoring Configuration
METRICS_PORT=9090
HEALTH_CHECK_ENDPOINT=/health
METRICS_ENDPOINT=/metrics

# Rate Limiting Configuration
USER_RATE_LIMIT=100
IP_RATE_LIMIT=1000
RATE_LIMIT_WINDOW=60

# Circuit Breaker Configuration
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60
CIRCUIT_BREAKER_UNHEALTHY=3
CIRCUIT_BREAKER_HEALTHY=2

# CORS Configuration
ALLOWED_ORIGINS=https://writewave.app,https://admin.writewave.app
ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
ALLOWED_HEADERS=Accept,Accept-Version,Content-Length,Content-MD5,Content-Type,Date,Authorization,X-Requested-With
EXPOSED_HEADERS=X-Auth-Token,X-User-ID,X-User-Role,X-Service,X-Version
CREDENTIALS=true
MAX_AGE=3600

# Error Handling Configuration
ERROR_RESPONSE_FORMAT=json
INCLUDE_REQUEST_DETAILS=false
INCLUDE_SERVICE_INFO=false
LOG_ERRORS=true
HIDE_SENSITIVE_INFO=true

# Service Discovery Configuration
SERVICE_DISCOVERY_ENABLED=true
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5000

# Load Balancing Configuration
LOAD_BALANCING_STRATEGY=least_connections
MAX_CONNECTIONS=5000
KEEPALIVE_TIMEOUT=65

# Development Configuration
DEBUG_MODE=false
VERBOSE_LOGGING=false
MOCK_SERVICES=false
AUTO_RELOAD=false
PERFORMANCE_MONITORING=true
SECURITY_MONITORING=true
AUDIT_LOGGING=true
