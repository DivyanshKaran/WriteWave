server {
    listen 80;
    server_name localhost;

    # Health check endpoint
    location /health {
        access_log off;
        return 200 '{"status": "healthy", "timestamp": "$time_iso8601", "service": "health-check"}';
        add_header Content-Type application/json;
    }

    # User service health check
    location /health/users {
        access_log off;
        return 200 '{"status": "healthy", "timestamp": "$time_iso8601", "service": "user-service"}';
        add_header Content-Type application/json;
    }

    # Content service health check
    location /health/content {
        access_log off;
        return 200 '{"status": "healthy", "timestamp": "$time_iso8601", "service": "content-service"}';
        add_header Content-Type application/json;
    }

    # Articles service health check
    location /health/articles {
        access_log off;
        return 200 '{"status": "healthy", "timestamp": "$time_iso8601", "service": "articles-service"}';
        add_header Content-Type application/json;
    }

    # Progress service health check
    location /health/progress {
        access_log off;
        return 200 '{"status": "healthy", "timestamp": "$time_iso8601", "service": "progress-service"}';
        add_header Content-Type application/json;
    }

    # Community service health check
    location /health/community {
        access_log off;
        return 200 '{"status": "healthy", "timestamp": "$time_iso8601", "service": "community-service"}';
        add_header Content-Type application/json;
    }

    # Notification service health check
    location /health/notifications {
        access_log off;
        return 200 '{"status": "healthy", "timestamp": "$time_iso8601", "service": "notification-service"}';
        add_header Content-Type application/json;
    }

    # Analytics service health check
    location /health/analytics {
        access_log off;
        return 200 '{"status": "healthy", "timestamp": "$time_iso8601", "service": "analytics-service"}';
        add_header Content-Type application/json;
    }

    # Default location
    location / {
        return 200 '{"message": "Health Check Service", "endpoints": ["/health", "/health/users", "/health/content", "/health/articles", "/health/progress", "/health/community", "/health/notifications", "/health/analytics"]}';
        add_header Content-Type application/json;
    }
}
