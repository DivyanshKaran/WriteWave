# Development Environment Configuration
# ====================================

# Global configuration
global:
  environment: development
  domain: dev.writewave.com
  imageRegistry: ghcr.io/writewave
  imageTag: latest
  
# Database configuration
databases:
  postgres:
    user:
      host: postgres-user-primary
      port: 5432
      database: writewave_users
      username: postgres
      password: writewave_dev_password
    content:
      host: postgres-content-primary
      port: 5432
      database: writewave_content
      username: postgres
      password: writewave_dev_password
    progress:
      host: postgres-progress-primary
      port: 5432
      database: writewave_progress
      username: postgres
      password: writewave_dev_password
    community:
      host: postgres-community-primary
      port: 5432
      database: writewave_community
      username: postgres
      password: writewave_dev_password
    analytics:
      host: postgres-analytics-primary
      port: 5432
      database: writewave_analytics
      username: postgres
      password: writewave_dev_password

# Redis configuration
redis:
  host: redis-cluster-proxy
  port: 6379
  password: redis_dev_password
  cluster:
    enabled: true
    nodes:
      - redis-node-1:7001
      - redis-node-2:7002
      - redis-node-3:7003

# Message queues
messaging:
  rabbitmq:
    host: rabbitmq
    port: 5672
    username: writewave_user
    password: writewave_dev_password
    vhost: /
  kafka:
    brokers:
      - kafka-1:9092
      - kafka-2:9093
      - kafka-3:9094
    topics:
      - user-events
      - content-events
      - progress-events
      - community-events
      - notification-events
      - analytics-events

# ClickHouse configuration
clickhouse:
  host: clickhouse
  port: 8123
  database: analytics
  username: default
  password: clickhouse_dev_password

# Microservices configuration
services:
  user:
    name: user-service
    port: 8001
    replicas: 1
    resources:
      requests:
        memory: "256Mi"
        cpu: "100m"
      limits:
        memory: "512Mi"
        cpu: "500m"
    env:
      NODE_ENV: development
      LOG_LEVEL: debug
      JWT_SECRET: dev_jwt_secret_key
      BCRYPT_ROUNDS: 10
      
  content:
    name: content-service
    port: 8002
    replicas: 1
    resources:
      requests:
        memory: "256Mi"
        cpu: "100m"
      limits:
        memory: "512Mi"
        cpu: "500m"
    env:
      NODE_ENV: development
      LOG_LEVEL: debug
      JWT_SECRET: dev_jwt_secret_key
      MAX_FILE_SIZE: 10485760  # 10MB
      
  progress:
    name: progress-service
    port: 8003
    replicas: 1
    resources:
      requests:
        memory: "256Mi"
        cpu: "100m"
      limits:
        memory: "512Mi"
        cpu: "500m"
    env:
      NODE_ENV: development
      LOG_LEVEL: debug
      JWT_SECRET: dev_jwt_secret_key
      
  community:
    name: community-service
    port: 8004
    replicas: 1
    resources:
      requests:
        memory: "256Mi"
        cpu: "100m"
      limits:
        memory: "512Mi"
        cpu: "500m"
    env:
      NODE_ENV: development
      LOG_LEVEL: debug
      JWT_SECRET: dev_jwt_secret_key
      
  notification:
    name: notification-service
    port: 8005
    replicas: 1
    resources:
      requests:
        memory: "256Mi"
        cpu: "100m"
      limits:
        memory: "512Mi"
        cpu: "500m"
    env:
      NODE_ENV: development
      LOG_LEVEL: debug
      JWT_SECRET: dev_jwt_secret_key
      SENDGRID_API_KEY: dev_sendgrid_key
      TWILIO_ACCOUNT_SID: dev_twilio_sid
      TWILIO_AUTH_TOKEN: dev_twilio_token
      
  analytics:
    name: analytics-service
    port: 8006
    replicas: 1
    resources:
      requests:
        memory: "512Mi"
        cpu: "200m"
      limits:
        memory: "1Gi"
        cpu: "1000m"
    env:
      NODE_ENV: development
      LOG_LEVEL: debug
      JWT_SECRET: dev_jwt_secret_key

# Monitoring configuration
monitoring:
  enabled: true
  prometheus:
    enabled: true
    port: 9090
    retention: 7d
  grafana:
    enabled: true
    port: 3000
    adminPassword: dev_grafana_password
  jaeger:
    enabled: true
    port: 16686
  elk:
    enabled: true
    elasticsearch:
      replicas: 1
      resources:
        requests:
          memory: "1Gi"
          cpu: "500m"
        limits:
          memory: "2Gi"
          cpu: "1000m"
    kibana:
      port: 5601
    logstash:
      replicas: 1

# Security configuration
security:
  tls:
    enabled: false
  istio:
    enabled: false
  networkPolicies:
    enabled: false
  podSecurityStandards:
    enabled: false

# Storage configuration
storage:
  persistentVolumes:
    enabled: true
    storageClass: standard
    size: 10Gi
  backups:
    enabled: false

# Networking configuration
networking:
  ingress:
    enabled: true
    className: nginx
    annotations:
      nginx.ingress.kubernetes.io/ssl-redirect: "false"
      nginx.ingress.kubernetes.io/force-ssl-redirect: "false"
    hosts:
      - host: dev.writewave.com
        paths:
          - path: /api/users
            pathType: Prefix
            service: user-service
          - path: /api/content
            pathType: Prefix
            service: content-service
          - path: /api/progress
            pathType: Prefix
            service: progress-service
          - path: /api/community
            pathType: Prefix
            service: community-service
          - path: /api/notifications
            pathType: Prefix
            service: notification-service
          - path: /api/analytics
            pathType: Prefix
            service: analytics-service

# Development tools
development:
  mailhog:
    enabled: true
    port: 8025
  minio:
    enabled: true
    port: 9000
    accessKey: minioadmin
    secretKey: minioadmin
  debug:
    enabled: true
    port: 9229

# Feature flags
features:
  rateLimiting: false
  circuitBreaker: false
  retryPolicy: false
  healthChecks: true
  metrics: true
  tracing: true
  logging: true

# Resource limits
resources:
  limits:
    cpu: "2000m"
    memory: "4Gi"
  requests:
    cpu: "500m"
    memory: "1Gi"

# Autoscaling
autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 3
  targetCPUUtilizationPercentage: 70
  targetMemoryUtilizationPercentage: 80

# Backup configuration
backup:
  enabled: false
  schedule: "0 2 * * *"
  retention: 7

# Logging configuration
logging:
  level: debug
  format: json
  output: stdout
  retention: 7d

# Performance configuration
performance:
  connectionPooling: true
  caching: true
  compression: false
  keepAlive: true
